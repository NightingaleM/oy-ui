import{defineComponent as e,ref as t,pushScopeId as l,popScopeId as a,openBlock as o,createBlock as n,withScopeId as s,createVNode as i,onMounted as r,Fragment as u,createCommentVNode as c,mergeProps as d,renderSlot as p,createTextVNode as v,computed as y,watchEffect as f,onBeforeUnmount as m,renderList as b,toDisplayString as g,resolveDynamicComponent as h,resolveComponent as w,Teleport as B,Transition as C,withCtx as _,withModifiers as x,watch as k,createApp as T,h as N}from"vue";var S=Object.assign;var E=e(S(S({},{props:{value:Boolean,disable:Boolean}}),{setup:function(e,{emit:l}){return{checked:t(!1),toggle:()=>{l("update:value",!e.value)}}}}));const L=s("data-v-3e2cdfb7");l("data-v-3e2cdfb7");const $=i("span",null,null,-1);a();const O=L((function(e,t,l,a,s,i){return o(),n("button",{class:[{"oy-checked":l.value},"oy-button"],disabled:l.disable,onClick:t[1]||(t[1]=(...e)=>a.toggle(...e))},[$],10,["disabled"])}));E.render=O,E.__scopeId="data-v-3e2cdfb7",E.__file="src/lib/Switch.vue";const z=function(e){const t=t=>{if([...t.path[0].classList].indexOf("oy-wave")>=0)return;let l=(new Date).getTime();let a=document.createElement("span");a.className="oy-wave",a.style.position="absolute",a.style.left=t.layerX+"px",a.style.top=t.layerY+"px",e.value.append(a),e.value.addEventListener("mouseup",(t=>{let o=(new Date).getTime(),n=0;o-l<300&&(n=300-(o-l)),setTimeout((()=>{a.className+=" oy-wave-remove",setTimeout((()=>{try{e.value.removeChild(a)}catch(e){}}),150)}),n)}),{once:!0})};e.value.addEventListener("mousedown",t);return{remove:()=>{e.value.removeEventListener("mousedown",t)}}};var F={inheritAttrs:!1,props:{fab:{type:Boolean,default:!1},noWave:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},elevation:{type:[String,Number],default:0,validator(e){let t=parseInt(""+e,10);return t>=0||t<=4}},theme:{type:String,default:"plain",validator:e=>["plain","primary","success","info","warning","danger","text"].indexOf(e)>=0},loading:{type:Boolean},size:{type:String,default:"",validator:e=>["","medium","small","mini"].indexOf(e)>=0}},setup(e,l){let a=t(null);return r((()=>{if(a.value.disabled||e.noWave||z(a),e.fab){let{width:e}=a.value.getBoundingClientRect();a.value.style.height=e+"px"}})),{btn:a}}};const I=v("Button");F.render=function(e,t,l,a,s,r){return o(),n(u,null,[c('  <div class="oy-button">'),c(" $attrs 包含了所有传递过来的事件和属性，如果不手动绑定的话，将绑定到组件的最外穿元素   "),i("button",d({ref:"btn",class:[l.theme?"oy-button-theme-"+l.theme:"",l.size?"oy-button-size-"+l.size:"","oy-button-elevation-"+l.elevation,{"oy-button-outline":l.outline},{fab:l.fab},"oy-button-main"]},e.$attrs),[i("span",null,[p(e.$slots,"default",{},(()=>[I]))])],16),c("  </div>")],64)},F.__file="src/lib/Button.vue";var D={props:{title:String},setup(){}};D.render=function(e,t,l,a,s,i){return o(),n("div",null,[p(e.$slots,"default")])},D.__file="src/lib/Tab.vue";var R={props:{grow:{type:Boolean,default:!1},selected:{type:String},position:{type:String,default:"left",validator:e=>["right","left","centered"].indexOf(e)>=0}},setup(e,l){let a=l.slots.default(),o=[];a.forEach((e=>{if(o.push(e.props.title),e.type.name!==D.name)throw new Error("Tabs的子标签必须为Tab")}));let n=y((()=>a.find((t=>t.props.title===e.selected)))),s=t(null),i=t(null),u=t(null);const c=()=>{i.value.style.width=s.value.offsetWidth+"px";const{left:e}=u.value.getBoundingClientRect(),{left:t}=s.value.getBoundingClientRect(),l=t-e+u.value.scrollLeft;i.value.style.left=l+"px",i.value.classList.contains("oy-tabs-slider-wrapper-init")&&setTimeout((()=>{i.value.classList.remove("oy-tabs-slider-wrapper-init")}),0)};return r((()=>{f((()=>{window.addEventListener("resize",c),c()}),{flush:"post"})})),m((()=>{window.removeEventListener("resize",c)})),{tabGroup:u,wrapper:i,ac_el:s,select:e=>{l.emit("update:selected",e)},titles:o,current:n}}};const A={class:"oy-tabs"},G={class:"oy-tabs-slider-wrapper oy-tabs-slider-wrapper-init",ref:"wrapper"},W={class:"oy-tabs-content"};R.render=function(e,t,l,a,s,r){return o(),n("div",A,[i("div",{class:["oy-tabs-tab-group","oy-tabs-tab-position-"+l.position],ref:"tabGroup"},[i("div",G,null,512),(o(!0),n(u,null,b(a.titles,((e,t)=>(o(),n("div",{class:["oy-tabs-tab",{active:l.selected===e},{oyTabGrow:l.grow}],onClick:t=>a.select(e),key:t,ref:t=>{e===l.selected&&(a.ac_el=t)}},g(e),11,["onClick"])))),128))],2),i("div",W,[(o(),n(h(a.current),{key:a.current.props.title}))])])},R.__file="src/lib/Tabs.vue";var q={components:{Button:F},props:{visible:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},byFunction:{type:Boolean,default:!1}},setup(e,l){const a=t(!0);return{visibleByFunction:a,close:()=>{e.byFunction&&(a.value=!1),l.emit("update:visible",!e.visible)}}}};const j={class:"oy-dialog-content"},U=v("取消"),X=v("确定");q.render=function(e,t,l,a,s,r){const d=w("Button");return o(),n(u,null,[c(" teleport 让这个组件查到body下而不是引入的父组件下 "),(o(),n(B,{to:"body"},[i(C,{name:"oy-dialog-animation-overlay"},{default:_((()=>[l.visible&&a.visibleByFunction?(o(),n("div",{key:0,class:"oy-dialog-overlay",onClick:t[2]||(t[2]=x(((...e)=>a.close(...e)),["stop"]))},[l.visible&&a.visibleByFunction?(o(),n("div",{key:0,class:"oy-dialog-wrapper",onClick:t[1]||(t[1]=x((()=>{}),["stop"]))},[i("header",null,[p(e.$slots,"title")]),i("div",j,[p(e.$slots,"content")]),i("footer",null,[p(e.$slots,"footer",{},(()=>[i(d,{theme:"text",outline:"",onClick:a.close},{default:_((()=>[U])),_:1},8,["onClick"]),i(d,{theme:"text",outline:""},{default:_((()=>[X])),_:1})]))])])):c("v-if",!0)])):c("v-if",!0)])),_:1})]))],64)},q.__file="src/lib/Dialog/Dialog.vue";var Y={props:{activeNames:{type:Array,default:[]},title:{type:String},name:{type:String,require:!0}},setup(e,l){const a=t(null),o=t(!1);return k(e.activeNames,((t,l,a)=>{let n=t.indexOf(e.name)>=0;o.value!==n&&(o.value=n)})),r((()=>{o.value=e.activeNames.indexOf(e.name)>=0,f((()=>{if(o.value&&void 0!==window.getComputedStyle){a.value.style.height="auto";let e=window.getComputedStyle(a.value).height;a.value.style.height="0px",setTimeout((()=>{a.value.style.height=parseInt(e,10)+20+"px"}),0)}else o.value||(a.value.style.height="0px")}))})),{contentRef:a,active:o,change:()=>{let t=e.activeNames,a=e.activeNames.indexOf(e.name);a<0?t.push(e.name):t.splice(a,1),l.emit("update:activeNames",t)}}}};const H={class:"oy-collapse-item"},J={key:1};Y.render=function(e,t,l,a,s,r){return o(),n("div",H,[i("div",{class:"oy-collapse-header",onClick:t[1]||(t[1]=(...e)=>a.change(...e))},[l.title?(o(),n("span",J,g(l.title),1)):p(e.$slots,"title",{key:0})]),i("div",{class:["oy-collapse-content",{"oy-collapse-content-active":a.active}],ref:"contentRef"},[p(e.$slots,"default")],2)])},Y.__file="src/lib/collapse/Collapse-Item.vue";var K={props:{activeNames:{type:Array,require:!0}},setup(e,t){const l=t.slots.default();return l.forEach((e=>{if(e.type.name!==Y.name)throw new Error("Collapse的子标签必须为CollapseItem")})),{defaults:l}}};const M={class:"oy-collapse-panel"};K.render=function(e,t,l,a,s,i){return o(),n("div",M,[(o(!0),n(u,null,b(a.defaults,((e,t)=>(o(),n(h(e),{key:e.props.name,activeNames:l.activeNames},null,8,["activeNames"])))),128))])},K.__file="src/lib/collapse/Collapse.vue";const P=e=>{const{title:t,content:l}=e,a=document.createElement("div");document.body.appendChild(a);let o=T({render:()=>N(q,{visible:!0,byFunction:!0,"onUpdate:visible":e=>{!1===e&&setTimeout((()=>{o.unmount(a),a.remove()}),500)}},{title:t,content:l})});o.mount(a,!0)};export{F as Button,K as Collapse,Y as CollapseItem,q as Dialog,P as OpenDialog,E as Switch,D as Tab,R as Tabs,z as waveHandle};
